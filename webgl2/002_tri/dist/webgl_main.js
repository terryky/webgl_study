(()=>{"use strict";let e={load_file_sync:function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r},compile_shader_text:function(e,r,t){const o=e.createShader(r);return e.shaderSource(o,t),e.compileShader(o),e.getShaderParameter(o,e.COMPILE_STATUS)?o:(alert("An error occurred compiling the shaders: "+e.getShaderInfoLog(o)),e.deleteShader(o),null)},compile_shader_file:function(r,t,o){const n=e.load_file_sync(o).responseText;return e.compile_shader_text(r,t,n)},link_shaders:function(e,r,t){const o=e.createProgram();return e.attachShader(o,r),e.attachShader(o,t),e.linkProgram(o),e.getProgramParameter(o,e.LINK_STATUS)||alert("Could not initialise shaders"),o},generate_shader:function(r,t,o){const n=e.compile_shader_text(r,r.VERTEX_SHADER,t),a=e.compile_shader_text(r,r.FRAGMENT_SHADER,o),c=e.link_shaders(r,n,a);return r.deleteShader(n),r.deleteShader(a),{program:c,loc_vtx:r.getAttribLocation(c,"a_Vertex"),loc_clr:r.getAttribLocation(c,"a_Color"),loc_nrm:r.getAttribLocation(c,"a_Normal"),loc_uv:r.getAttribLocation(c,"a_TexCoord"),loc_smp:r.getUniformLocation(c,"u_sampler")}}};const r=[-.5,.5,-.5,-.5,.5,.5],t=[1,0,0,1,0,1,0,1,0,0,1,1];window.startWebGL=function(){const o=document.querySelector("#glcanvas").getContext("webgl2");if(!o)return void alert("Failed to initialize WebGL2.");o.clearColor(.5,.5,.5,1),o.clear(o.COLOR_BUFFER_BIT);const n=e.generate_shader(o,"#version 300 es\n    in  vec4 a_Vertex;\n    in  vec4 a_Color;\n    out vec4 v_color;\n    void main()\n    {\n        gl_Position = a_Vertex;\n        v_color     = a_Color;\n    }\n","#version 300 es\n    precision mediump float;\n    in  vec4 v_color;\n    out vec4 o_color;\n    void main()\n    {\n        o_color = v_color;\n    }\n"),a=function(e){const o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,new Float32Array(r),e.STATIC_DRAW);const n=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),{vbo_vtx:o,vbo_col:n}}(o),c=function(e,r,t){const o=e.createVertexArray();return e.bindVertexArray(o),e.bindBuffer(e.ARRAY_BUFFER,t.vbo_vtx),e.enableVertexAttribArray(r.loc_vtx),e.vertexAttribPointer(r.loc_vtx,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,t.vbo_col),e.enableVertexAttribArray(r.loc_clr),e.vertexAttribPointer(r.loc_clr,4,e.FLOAT,!1,0,0),o}(o,n,a);!function(e,r,t){e.clear(e.COLOR_BUFFER_BIT),e.useProgram(r.program),e.bindVertexArray(t),e.drawArrays(e.TRIANGLE_STRIP,0,3)}(o,n,c)}})();